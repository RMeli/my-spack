spack:
  specs:
  - cp2k@master +spglib build_system=cmake +smeagol
  packages:
    gcc:
      externals:
      - spec: gcc@11.4.0 languages:='c,c++,fortran'
        prefix: /usr
        extra_attributes:
          compilers:
            c: /usr/bin/gcc
            cxx: /usr/bin/g++
            fortran: /usr/bin/gfortran
      - spec: gcc@12.3.0 languages:='c,c++,fortran'
        prefix: /usr
        extra_attributes:
          compilers:
            c: /usr/bin/gcc-12
            cxx: /usr/bin/g++-12
            fortran: /usr/bin/gfortran-12
    all:
      prefer:
      - '%gcc@11.4'
      - +mpi
    mpi:
      require: mpich
    blas:
      require: openblas
    lapack:
      require: openblas
    scalapack:
      require: netlib-scalapack
    fftw-api:
      require: fftw
  develop:
    cp2k:
      spec: cp2k@master +spglib build_system=cmake +smeagol
      path: ~/git/work/cp2k/
  view: false
  concretizer:
    unify: true
  config:
    build_stage: ~/git/work/cp2k/spack-build-stage/
